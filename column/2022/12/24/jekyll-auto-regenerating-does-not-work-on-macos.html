<!doctype html>
<html lang="ja">
    <head>
        <title>jekyll serveのAuto-regenerationが動作しないので、--force_pollingオプションで回避する</title>

        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
        <link rel="stylesheet" type="text/css" href="https://rawgit.com/outboxcraft/beauter/master/beauter.min.css"/>
        <link rel="stylesheet" type="text/css" href="/blog/assets/css/my-blog.css"><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PCCR1QM5EE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PCCR1QM5EE');
</script>
</head>

    <body>
        <header>
    <div class="jumbo _high" style="padding-bottom: 0px;">
        <strong class="_high">
            <a class="blog-title" href="/blog/">
                owky's blog
            </a>
        </strong>
    </div>
</header>

        <div class="row">
            <div class="col m2 spacer"></div>
            <div class="col m8">
                <h1>jekyll serveのAuto-regenerationが動作しないので、--force_pollingオプションで回避する</h1>
<p class="_low">Dec 24, 2022</p>
<p><p><code class="language-plaintext highlighter-rouge">jekyll serve</code>でブログをプレビューする際に、ファイル編集後に自動で再生成がされない。
以前はちゃんと動いていた気がするが、いつからか動かなくなっている。</p>

<p>このように <code class="language-plaintext highlighter-rouge">Auto-regeneration: enabled</code> と表示されているが、実際は auto regenerate されない。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># jekyll serve</span>
Configuration file: /work/_config.yml
            Source: /work
       Destination: /work/_site
 Incremental build: disabled. Enable with <span class="nt">--incremental</span>
      Generating...
                    <span class="k">done in </span>0.96 seconds.
 Auto-regeneration: enabled <span class="k">for</span> <span class="s1">'/work'</span>
    Server address: http://127.0.0.1:4000/
  Server running... press ctrl-c to stop.
</code></pre></div></div>

<p>調べてみると <code class="language-plaintext highlighter-rouge">--force_polling</code> オプションを付けると動作するとのこと。
発生条件に「macの場合」とあるが、その真偽はわからない。</p>

<p><a href="https://talk.jekyllrb.com/t/auto-regeneration-doesnt-work-even-when-enabled/4178">Auto-regeneration doesn’t work even when enabled - Help - Jekyll Talk</a></p>

<p>たしかに <code class="language-plaintext highlighter-rouge">--force_polling</code> オプションを付けたら再生成された。
ポーリングだからなのか、10秒くらい待たされる。微妙・・・。
Auto-regenerationが正常に動いていたときは、待たされなかった気がする。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># jekyll serve --force_polling
Configuration file: /work/_config.yml
            Source: /work
       Destination: /work/_site
 Incremental build: disabled. Enable with --incremental
      Generating...
                    done in 1.034 seconds.
 Auto-regeneration: enabled for '/work'
    Server address: http://127.0.0.1:4000/
  Server running... press ctrl-c to stop.
      Regenerating: 1 file(s) changed at 2022-12-24 10:24:47
                    _posts/2022-12-24-jekyll-auto-regenerating-does-not-work-on-macos.md
                    ...done in 0.732444 seconds.
</code></pre></div></div>
</p>
<p class="_alignRight">
    <a href="/blog/columns">→ Columns</a>
</p>

            </div>
            <div class="col m2 spacer"></div>
        </div>
        <footer>
    <div class="row">
        <div class="col m2 spacer"></div>
        <div class="col m8">
            <div class="row">
                <div class="col m4">
                    <p>
    <a class="blog-title" href="/blog/">
        owky's blog
    </a>
</p>
<p>
    <a href="https://github.com/owky">
        <img src="/blog/assets/img/github.png"
             class="social-icon">owky
    </a>
    <br>
    <a href="https://twitter.com/owky2413">
        <img src="/blog/assets/img/twitter.png"
             class="social-icon">owky2413
    </a>
</p>

                </div>
                <div class="col m8">
                    <small>
    チームマネジメントとかプロダクトマネジメントとかエンジニアリングマネジメントについて 学んだこと、感じたことを記録に残しています。
    <br>
    Team Management / Product Management / Engineering Management / Lean / Agile / Scrum
</small>

                </div>
            </div>
        </div>
        <div class="col m2 spacer"></div>
    </div>
</footer>

    </body>
</html>
